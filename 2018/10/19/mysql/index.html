<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>数据库 | YMJ&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="python,YMJ's Blog" />
  
  <meta name="description" content="关系型数据库关系型数据概述1.数据持久化  文件操作(读写文件)-Excel/文本文件 数据库 云存储  2.关系型数据库特点  理论基础:集合论和关系代数 具体表象:用二维表(行和列)组织数据 编程语言:结构化查询语言(SQL)  3.关系型数据库产品  Oracle DB2 SQL Server MySQL SQLite  MySQL简介图形化的MySQL客户端工具 -Navicat for">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库">
<meta property="og:url" content="http://yoursite.com/2018/10/19/mysql/index.html">
<meta property="og:site_name" content="YMJ&#39;s Blog">
<meta property="og:description" content="关系型数据库关系型数据概述1.数据持久化  文件操作(读写文件)-Excel/文本文件 数据库 云存储  2.关系型数据库特点  理论基础:集合论和关系代数 具体表象:用二维表(行和列)组织数据 编程语言:结构化查询语言(SQL)  3.关系型数据库产品  Oracle DB2 SQL Server MySQL SQLite  MySQL简介图形化的MySQL客户端工具 -Navicat for">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-10-19T01:05:41.327Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据库">
<meta name="twitter:description" content="关系型数据库关系型数据概述1.数据持久化  文件操作(读写文件)-Excel/文本文件 数据库 云存储  2.关系型数据库特点  理论基础:集合论和关系代数 具体表象:用二维表(行和列)组织数据 编程语言:结构化查询语言(SQL)  3.关系型数据库产品  Oracle DB2 SQL Server MySQL SQLite  MySQL简介图形化的MySQL客户端工具 -Navicat for">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>

<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">YMJ&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        YMJ&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        一个分享python学习心得的博客
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="YMJ" target="_blank" href="//github.com/jennyblue0616">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/jennyblue0616">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="Weibo" target="_blank" href="//weibo.com/">
                            <i class="fa fa-weibo fa-2x"></i></a>
                    
                        <a title="Twitter" target="_blank" href="//twitter.com/">
                            <i class="fa fa-twitter fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-mysql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      数据库
    </h1>
    <div class="post-title-bar">
      <ul>
          
        <li>
          <i class="fa fa-calendar"></i>  2018-10-19
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <h1 id="关系型数据库"><a href="#关系型数据库" class="headerlink" title="关系型数据库"></a>关系型数据库</h1><h2 id="关系型数据概述"><a href="#关系型数据概述" class="headerlink" title="关系型数据概述"></a>关系型数据概述</h2><p>1.数据持久化</p>
<ul>
<li>文件操作(读写文件)-Excel/文本文件</li>
<li>数据库</li>
<li>云存储</li>
</ul>
<p>2.关系型数据库特点</p>
<ul>
<li>理论基础:集合论和关系代数</li>
<li>具体表象:用二维表(行和列)组织数据</li>
<li>编程语言:结构化查询语言(SQL)</li>
</ul>
<p>3.关系型数据库产品</p>
<ul>
<li>Oracle</li>
<li>DB2</li>
<li>SQL Server</li>
<li>MySQL</li>
<li>SQLite</li>
</ul>
<h2 id="MySQL简介"><a href="#MySQL简介" class="headerlink" title="MySQL简介"></a>MySQL简介</h2><p>图形化的<code>MySQL</code>客户端工具</p>
<p>-<code>Navicat for MySQL</code></p>
<p>-<code>Toad for MySQL</code></p>
<p>-<code>SQLyog</code></p>
<p>1.安装和配置</p>
<blockquote>
<p>安装时选最后一项custom自定义安装<br>展开MySQL Server,选64位的,右边必选第一个,最后一个<br>下一步会提示缺东西,选上后点execute<br>安装好后准备配置<br>选第一个Standalone单机版<br>下一步选开发机选项Development Machine<br>端口是IP地址的拓展<br>services.msc  windows的服务窗口<br>下一步设置超级管理员密码<br>下一步第一个选项勾选-把mysql安装成windows的一项服务<br>第二个是开机自启不选<br>下一步什么都不要<br>点execute</p>
<p>启动可以在服务里启动,也可以在cmd敲 net start mysql</p>
<p>然后输密码</p>
<p>show databases 查看数据库<br>use mysql进入到mysql数据库<br>show tables 查看表格</p>
</blockquote>
<p>2.常用命令</p>
<p>当我们做数据持久化操作时不仅希望能够把数据长久的保存起来,更重要的是希望方便管理数据,需要时方便地把数据取出来<br>具体表象:用二维表来组织数据<br>行:记录-实体<br>列:字段-实体属性</p>
<p><code>SQL分为DDL:creat/drop/alter</code></p>
<p><code>DML:insert/delete/update/select</code></p>
<p><code>DCL:grant/revoke</code></p>
<h3 id="关于数据库的命令有"><a href="#关于数据库的命令有" class="headerlink" title="关于数据库的命令有"></a>关于数据库的命令有</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#创建数据库</span><br><span class="line">create database 数据库名 default charset utf8;</span><br><span class="line"></span><br><span class="line">#删除数据库</span><br><span class="line">#如果存在school的数据库就删除</span><br><span class="line">drop database if exits school;</span><br><span class="line"></span><br><span class="line">#切换数据库</span><br><span class="line">use school</span><br></pre></td></tr></table></figure>
<h3 id="关于表的命令有"><a href="#关于表的命令有" class="headerlink" title="关于表的命令有"></a>关于表的命令有</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#创建表</span><br><span class="line">#记得创建一个能唯一确定数据的主键</span><br><span class="line">create table tb_student</span><br><span class="line">(</span><br><span class="line">stuid int not null,</span><br><span class="line">stuname varchar(4) not null,</span><br><span class="line">gender bit default 1,</span><br><span class="line">birth date,</span><br><span class="line">primary key (stuid)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#删除表</span><br><span class="line">drop table if exists tb_student;</span><br><span class="line">#删除全表</span><br><span class="line">truncate table tb_student</span><br><span class="line"></span><br><span class="line">#修改表</span><br><span class="line">#column可以省略</span><br><span class="line">alter table tb_student add column tel char(11) not null;</span><br><span class="line">alter table tb_student drop column birth;</span><br><span class="line"></span><br><span class="line">外键约束,保证了引用完整性,必须保证类型一样</span><br><span class="line">#创建外键约束</span><br><span class="line">alter table tb_student add constraint fk_student_id foreign key (id) references tb_colloge(id);</span><br><span class="line">#删除外键约束</span><br><span class="line">alter table tb_student drop foreign key fk_student_id;</span><br><span class="line"></span><br><span class="line">#添加唯一约束</span><br><span class="line">alter table tb_college add constraint uni_college_collname unique (collname);</span><br><span class="line"></span><br><span class="line">注意:在关系型数据库中,如果遇到多对多关系时,光靠两张表是无法建立多对多关系的,这时需要另外一张表,充当他们之间的一个中转站</span><br></pre></td></tr></table></figure>
<h3 id="关于数据的命令"><a href="#关于数据的命令" class="headerlink" title="关于数据的命令"></a>关于数据的命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#插入数据</span><br><span class="line">insert into tb_student values </span><br><span class="line">(001, &apos;小明&apos;, 1, &apos;13983206512&apos;),</span><br><span class="line">(002, &apos;小王&apos;, 1, &apos;13784256512&apos;),</span><br><span class="line">(003, &apos;小红&apos;, 0, &apos;13593206512&apos;);</span><br><span class="line"></span><br><span class="line">#删除数据</span><br><span class="line">delete from tb_student where stuid in (001,002);</span><br><span class="line"></span><br><span class="line">#更新数据</span><br><span class="line">update tb_student set addr=&apos;兰州&apos; where stuid=003;</span><br><span class="line"></span><br><span class="line">#查询数据</span><br><span class="line">select * from tb_student;</span><br><span class="line"></span><br><span class="line">#投影 查指定的列</span><br><span class="line">select stuname, gender from tb_student;</span><br><span class="line"></span><br><span class="line">#别名(alias - as可省略)</span><br><span class="line">select stuname as 姓名 from tb_student;</span><br><span class="line">#当性别是1时是男,否则是女</span><br><span class="line">select stuname 姓名, case gender when 1 then &apos;男&apos; else &apos;女&apos; end as 性别 from tb_student;</span><br><span class="line"></span><br><span class="line">#对列做运算</span><br><span class="line">#concat()合并成一列</span><br><span class="line">select concat(stuname, &apos;:&apos;, tel) as 信息 from tb_student;</span><br></pre></td></tr></table></figure>
<h3 id="数据的完整性"><a href="#数据的完整性" class="headerlink" title="数据的完整性"></a>数据的完整性</h3><ul>
<li><p>实体完整性:</p>
<p>每一条记录都是独一无二的,没有冗余.</p>
<p>主键/唯一索引(唯一约束)</p>
</li>
<li><p>参照完整性:</p>
<p>B表参照了A表,A表中没有的数据在B表中绝不能出现 </p>
<p>外键</p>
</li>
<li><p>域完整性:</p>
<p>录入的数据都是有效的</p>
<p>数据类型/非空约束/默认值约束/检查约束 (MySQL中不生效)</p>
</li>
</ul>
<h3 id="数据的一致性"><a href="#数据的一致性" class="headerlink" title="数据的一致性"></a>数据的一致性</h3><ul>
<li>A:Atomicity原子性-不可分割</li>
<li>C:Consistency一致性-事务前后数据状态一致</li>
<li>I:Isolation隔离性-多个事务不能看到彼此的中间状态</li>
<li>D:Duration持久性-事务完成后数据要持久化</li>
</ul>
<p>在出现并发事务访问数据的时候,数据库底层有锁机制来保护数据,但是通常写SQL的时候不用显示书写锁操作,数据库会根据我们设定的事务隔离级别自动的数据加锁</p>
<p>并发(多个线程)数据访问可能出现5种问题:<br>1.第一类丢失更新<br>2.第二类丢失更新(别人的更新丢失了)<br>3.脏读(没提交就看到了修改结果,读脏数据)-一个事务读取了另一个事务尚未提交的数据<br>————-以下两项对统计结算问题有影响<br>4.不可重复读-一个事务在读取查询结果时发现其他事务更新了数据导致无法读取<br>5.幻读-一个事务在执行查询时发现被其他事务提交了新的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Read Uncommited-脏读</span><br><span class="line"></span><br><span class="line">Read Commied-避免脏读</span><br><span class="line"></span><br><span class="line">Repeatable Read-避免不可重复读</span><br><span class="line"></span><br><span class="line">Serializable(串行化)-避免幻读</span><br><span class="line"></span><br><span class="line">级别,性能由高到低</span><br><span class="line"></span><br><span class="line">安全从低到高</span><br><span class="line"></span><br><span class="line">改级别set session transaction isolaion level read committed;</span><br><span class="line"></span><br><span class="line">查级别 select @@tx_isolation;</span><br></pre></td></tr></table></figure>
<h3 id="筛选"><a href="#筛选" class="headerlink" title="筛选"></a>筛选</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">select * from tb_student where stuid=1001;</span><br><span class="line">select * from tb_student where stuid in (1001, 1003, 1005);</span><br><span class="line">select * from tb_student where stuid not in (1001, 1003, 1005);</span><br><span class="line">select stuid, stuname, gender from tb_student where stuid between 1003 and 1007;</span><br><span class="line">select * from tb_student where stuid&gt;1003 and gender=0;</span><br><span class="line">select * from tb_student where stuid&gt;1003 or gender=0;</span><br><span class="line"></span><br><span class="line"># 注意:判断一个字段是否是null,不能用=和&lt;&gt;</span><br><span class="line">select * from tb_student where addr is null;</span><br><span class="line">select * from tb_student where addr is not null;</span><br><span class="line">#判断是否是空字符串,用=&apos;&apos;</span><br><span class="line"></span><br><span class="line"># 模糊(char / varchar)</span><br><span class="line"># % 是一个通配符,表示0个或任意多个字符</span><br><span class="line">select * from tb_student where stuname like &apos;小%&apos;;</span><br><span class="line"># _是一个通配符,表示1个字符</span><br><span class="line">select * from tb_student where stuname like &apos;小_&apos;;</span><br><span class="line"># 名字里有小这个字的查询</span><br><span class="line">select * from tb_student where stuname like &apos;%小%&apos;;</span><br><span class="line"></span><br><span class="line"># 排序</span><br><span class="line">select * from tb_student order by gender asc, stuid desc;</span><br><span class="line"></span><br><span class="line"># 分页</span><br><span class="line"># 跳过2条取3条</span><br><span class="line">select * from tb_student limit 3 offset 2;</span><br><span class="line">select * from tb_student limit 2, 3;</span><br><span class="line"></span><br><span class="line">#去重</span><br><span class="line">select distinct seldate from tb_score;</span><br><span class="line"></span><br><span class="line">#聚合函数</span><br><span class="line">max()/min()/avg()/count()/sum()</span><br><span class="line">select avg(mark) as 平均分 from tb_score where cid=1111;</span><br><span class="line"></span><br><span class="line">#分组</span><br><span class="line">select if(gender,&apos;男&apos;,&apos;女&apos;) as 性别,count(gender) as 总人数 from tb_student group by gender;</span><br><span class="line">count和group by通常会一起使用</span><br><span class="line"></span><br><span class="line"># where-分组前的筛选</span><br><span class="line"># having-分组后的筛选</span><br><span class="line">select sid,avg(mark) from tb_score group by sid having avg(mark)&gt;=90;</span><br><span class="line"></span><br><span class="line">#子查询:在一个查询中又用到了另外一个查询结果</span><br><span class="line"></span><br><span class="line">#双表查询/集合</span><br><span class="line">select sname from tb_student where stuid in(select sid from tb_score group by sid having count(sid)&gt;2);</span><br><span class="line"></span><br><span class="line">连接查询</span><br><span class="line">三表查询</span><br><span class="line">select sname,cname,mark from tb_score,tb_student,tb_sourse where stuid=sid and couid=cid and mark is not null;</span><br><span class="line">第二种写法</span><br><span class="line">select sname,cname,mark from tb_student inner join tb_score on stuid=sid </span><br><span class="line">inner join tb_course on couid=cid</span><br><span class="line">where mark is not null;</span><br><span class="line"></span><br><span class="line">左外连接 把写在前面的表不满足连表条件的记录也显示出来,对应记录补上空值</span><br><span class="line">右外连接 把写在后面的表不满足连接条件的记录也查出来对应记录补空值</span><br><span class="line">左外连接和子查询(查询每个学生的姓名和选课数量)</span><br><span class="line">select sname,total from tb_student left join</span><br><span class="line">(select sid,count(sid) as total from tb_score group by sid)t2</span><br><span class="line">on stuid=sid;</span><br><span class="line">左外连接是能查出左边的表所有的记录,即使该记录不在右边的表.</span><br><span class="line">查询所有部门的名称和人数(包括部门人数为0的部门)</span><br><span class="line">ifnull(num,0)-有值是num,没有是0</span><br><span class="line"></span><br><span class="line">select dname,ifnull(num,0)</span><br><span class="line">from tbdept t1 left join</span><br><span class="line">(select dno,count(dno) as num from tbemp group by dno)t2 </span><br><span class="line">on t1.dno=t2.dno;</span><br></pre></td></tr></table></figure>
<h3 id="数据控制语言-DCL"><a href="#数据控制语言-DCL" class="headerlink" title="数据控制语言(DCL)"></a>数据控制语言(DCL)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- @&apos;localhost&apos;限定本机</span><br><span class="line">-- 创建名为abc的用户并设置口令</span><br><span class="line">create user&apos;abc&apos;@&apos;%&apos;identified by &apos;123123&apos;;</span><br><span class="line"></span><br><span class="line">-- 授权</span><br><span class="line">grant select on srs.* to &apos;abc&apos;@&apos;%&apos;;</span><br><span class="line">grant insert,delete,update on </span><br><span class="line">srs.* to &apos;abc&apos;@&apos;%&apos;;</span><br><span class="line">grant create,drop,alter on srs.* to &apos;abc&apos;@&apos;%&apos;;</span><br><span class="line">-- 数据库srs的全部权利给abc</span><br><span class="line">grant all privileges on srs.* to &apos;abc&apos;@&apos;%&apos;;</span><br><span class="line">-- abc可以授权给别人</span><br><span class="line">grant all privileges on srs.* to &apos;abc&apos;@&apos;%&apos; with grant option;</span><br><span class="line"></span><br><span class="line">-- 召回</span><br><span class="line">revoke all privileges on srs.* from &apos;abc&apos;@&apos;%&apos;; </span><br><span class="line">-- 多个增删改查的操作,要么都成功,要么都不做,需要用到事务控制,例如:转账</span><br></pre></td></tr></table></figure>
<h3 id="视图和索引"><a href="#视图和索引" class="headerlink" title="视图和索引"></a>视图和索引</h3><p>​        视图是查询的快照,视图可以限制访问权限在列上面<br>通过视图可以将用户对表的访问权限进一步加以限制,也就是说将来普通用户不能够直接查询表的数据,只能通过指定的视图去查看到允许他访问的内容</p>
<p>​    索引(相当于一本书的目录)<br>为表创建索引可以加速查询(用空间换时间),索引虽然很好,但是不能滥用,一方面占用额外空间<br>因为索引会让增删改变得更慢,因为增删改操作调整了数据,所以可能会导致更新索引<br>如果哪个列经常被用于查询的筛选条件,那么这个列就要建索引</p>
<h3 id="python中使用MySQL"><a href="#python中使用MySQL" class="headerlink" title="python中使用MySQL"></a>python中使用MySQL</h3><p>安装依赖库有三种方式</p>
<ol>
<li>file/setting</li>
<li><p>先写代码 import pymysql</p>
<p>双击点红灯泡,里面有安装包</p>
</li>
<li><p>下方terminal 进入,然后输入pip install -i <a href="https://pypi.doubanio.com/simple" target="_blank" rel="noopener">https://pypi.doubanio.com/simple</a> pymysql</p>
</li>
</ol>
<blockquote>
<p>用豆瓣的镜像下载会很快<br>一劳永逸 在用户主目录下新建一个名为pip的文件夹,里面新建一个文件pip.ini,里面写[global]<br>index-url=<a href="https://pypi.doubanio.com/simple" target="_blank" rel="noopener">https://pypi.doubanio.com/simple</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"></span><br><span class="line">class Dept():</span><br><span class="line"></span><br><span class="line">    def __init__(self, no, name, loc):</span><br><span class="line">        self.no = no</span><br><span class="line">        self.name = name</span><br><span class="line">        self.loc = loc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line"></span><br><span class="line">    #1.创建数据库连接</span><br><span class="line">    conn = pymysql.connect(host=&quot;localhost&quot;,port=3306,</span><br><span class="line">                           user=&quot;root&quot;,password=&quot;123456&quot;,</span><br><span class="line">                           db=&quot;hrs&quot;, charset=&quot;utf8&quot;,autocommit=True,cursorclass=pymysql.cursors.DictCursor)</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        #2.通过连接,拿到游标的对象,上下文语法,离开with代码,游标自动关闭</span><br><span class="line">        with conn.cursor() as cursor:</span><br><span class="line">            #3.向数据库服务器发出SQL</span><br><span class="line">            cursor.execute(</span><br><span class="line">                &apos;&apos;&apos;select dno as no, dname as name, </span><br><span class="line">                dloc as loc from tbdept&apos;&apos;&apos;</span><br><span class="line">                )</span><br><span class="line">            print(cursor.fetchone())</span><br><span class="line">            print(cursor.fetchmany(2))</span><br><span class="line"></span><br><span class="line">            for row in cursor.fetchall():</span><br><span class="line">                print(row[&apos;no&apos;], end=&apos;\t&apos;)</span><br><span class="line">                print(row[&apos;name&apos;], end=&apos;\t&apos;)</span><br><span class="line">                print(row[&apos;loc&apos;])</span><br><span class="line">                # dept = Dept(**row)</span><br><span class="line">                # print(dept.no, end=&apos;\t&apos;)</span><br><span class="line">                # print(dept.name, end=&apos;\t&apos;)</span><br><span class="line">                # print(dept.loc)</span><br><span class="line"></span><br><span class="line">    finally:</span><br><span class="line">        conn.close()</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2018年10月19日 09:05</p>
        <p>原始链接： <a class="post-url" href="/2018/10/19/mysql/" title="数据库">http://yoursite.com/2018/10/19/mysql/</a></p>
        <footer>
            <a href="http://yoursite.com">
                <img src="/images/logo.png" alt="于梦娇">
                于梦娇
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        赞赏
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2018/10/19/mysql/&title=《数据库》 — YMJ's Blog&pic=http://yoursite.comimages/logo.png" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/10/19/mysql/&title=《数据库》 — YMJ's Blog&source=stay hungry stay foolish" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/10/19/mysql/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《数据库》 — YMJ's Blog&url=http://yoursite.com/2018/10/19/mysql/&via=http://yoursite.com" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2018/10/19/mysql/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://yoursite.com/2018/10/19/mysql/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#关系型数据库"><span class="post-toc-text">关系型数据库</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#关系型数据概述"><span class="post-toc-text">关系型数据概述</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#MySQL简介"><span class="post-toc-text">MySQL简介</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#关于数据库的命令有"><span class="post-toc-text">关于数据库的命令有</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#关于表的命令有"><span class="post-toc-text">关于表的命令有</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#关于数据的命令"><span class="post-toc-text">关于数据的命令</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数据的完整性"><span class="post-toc-text">数据的完整性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数据的一致性"><span class="post-toc-text">数据的一致性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#筛选"><span class="post-toc-text">筛选</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数据控制语言-DCL"><span class="post-toc-text">数据控制语言(DCL)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#视图和索引"><span class="post-toc-text">视图和索引</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#python中使用MySQL"><span class="post-toc-text">python中使用MySQL</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
  
    <a href="/2018/10/13/function/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">python 函数</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2018 于梦娇<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "http://yoursite.com",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/Python/">Python</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/函数/" style="font-size: 10px;">函数</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/函数/" style="font-size: 10px;">函数</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>